# HIP Template: IoT Network Access Fee

- **Author(s)**: @gradoj
- **Start Date**: 2024-09-25
- **Category**: Economic
- **Original HIP PR**: <!-- leave this empty; maintainer will fill in ID of this pull request -->
- **Tracking Issue**: <!-- leave this empty; maintainer will create a discussion issue -->
- **Vote Requirements**: veIOT Holders

## Summary

This HIP proposes introducing an onboarding or network access fee for IoT sensors on the Helium Network. This fee applies to all sensors but targets sensors with very low data usage that consume minimal Data Credits (DC). The goal is to collect appropriate fees, even from low-data usage sensors, and ensure they contribute to the network's sustainability through appropriate DC burn.

## Motivation

The current Helium Network economic model does not account for very low data usage sensors that only send small amounts of packet data or consume minimal Data Credits (DC). These devices currently do not contribute significantly to the network's overall revenue. This proposal supports the use case of ensuring all devices, regardless of their data usage, contribute fairly to the network's maintenance and sustainability. The expected outcome is a more balanced economic model where all devices contribute to the network, ensuring its long-term sustainability.

## Stakeholders

The stakeholders affected by this HIP include IoT sensor manufacturers and all sensor users. Feedback from these stakeholders will be solicited through community forums (e.g., Discord).

## Detailed Explanation

All sensors that send a LoRaWAN join request will require a one-time payment of the onboarding fee. Sensors send a join request with their unique deveui, which will be used to check if they've paid the onboarding fee. A Bloom filter could be used as an efficient, anonymous way to keep track of which sensors have paid the onboarding fees. If a sensor is not found in the Bloom filter hash, its join request will be dropped by the Helium Packet Router (HPR).

For example, a sensor sends a join request with its deveui. The HPR checks the Bloom filter to see if the deveui is present. If it is, the join request is processed. If not, the request is dropped.

## Drawbacks

The onboarding fee will increase the cost for sensor users. Additionally, the additional cost could deter some users from adopting the network, potentially slowing growth.

This method will not apply to ABP sensors since they do not send join request packets.

## Rationale and Alternatives
The exact amount of the fee is yet to be determined but somewhere in the $1-$2 per sensor is recommended. This would be a one-time fee but could expire on a period basis if deemed more appropriate. 

This design ensures that all devices contribute to the network's sustainability. Other designs, such as increasing data credit costs or implementing a different fee structure, were considered but deemed less effective in targeting the specific issue of low-data usage sensors. A blanket increase in DC value, for example, will impact higher dc usage sensors negatively. Without this HIP the next best alternative is the blanket increase in dc value chasing some of the high data usage customer off the Helium Network.

## Unresolved Questions

The exact fee amount, as well as the implementation details of the Bloom filter, are expected to be resolved through the HIP process before this gets merged. The technical integration with the Helium Packet Router (HPR) will be resolved through the implementation of this feature. Potential future adjustments to the fee are considered out of scope for this HIP and could be addressed independently in the future.

## Deployment Impact

All users of IoT sensors would be impacted upon their next join requests. Documentation will need to be updated to reflect the new onboarding fee requirements and the process for paying the fee.

## Success Metrics

The success of this design can be measured by an increase in network revenue from onboarding fees.
